import{m as d,C as _e,D as we,_ as ye,r as j,b as ne,l as O,o as F,c as B,a as v,p as _,A as I,j as E,z as S,i as C,t as P,F as xe,f as Oe,q as G,y as Fe}from"./index-C27v2SnV.js";import{I as L,C as Ce}from"./CloudUploadOutlined-zYAdBD08.js";var Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M553.1 509.1l-77.8 99.2-41.1-52.4a8 8 0 00-12.6 0l-99.8 127.2a7.98 7.98 0 006.3 12.9H696c6.7 0 10.4-7.7 6.3-12.9l-136.5-174a8.1 8.1 0 00-12.7 0zM360 442a40 40 0 1080 0 40 40 0 10-80 0zm494.6-153.4L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file-image",theme:"outlined"},ze={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M874.6 301.8L596.8 21.3c-4.5-4.5-9.4-8.3-14.7-11.5-1.4-.8-2.8-1.6-4.3-2.3-.9-.5-1.9-.9-2.8-1.3-9-4-18.9-6.2-29-6.2H201c-39.8 0-73 32.2-73 72v880c0 39.8 33.2 72 73 72h623c39.8 0 71-32.2 71-72V352.5c0-19-7-37.2-20.4-50.7zM583 110.4L783.8 312H583V110.4zM823 952H200V72h311v240c0 39.8 33.2 72 73 72h239v568zM350 696.5c0 24.2-7.5 31.4-21.9 31.4-9 0-18.4-5.8-24.8-18.5L272.9 732c13.4 22.9 32.3 34.2 61.3 34.2 41.6 0 60.8-29.9 60.8-66.2V577h-45v119.5zM501.3 577H437v186h44v-62h21.6c39.1 0 73.1-19.6 73.1-63.6 0-45.8-33.5-60.4-74.4-60.4zm-.8 89H481v-53h18.2c21.5 0 33.4 6.2 33.4 24.9 0 18.1-10.5 28.1-32.1 28.1zm182.5-9v36h30v30.1c-4 2.9-11 4.7-17.7 4.7-34.3 0-50.7-21.4-50.7-58.2 0-36.1 19.7-57.4 47.1-57.4 15.3 0 25 6.2 34 14.4l23.7-28.3c-12.7-12.8-32.1-24.2-59.2-24.2-49.6 0-91.1 35.3-91.1 97 0 62.7 40 95.1 91.5 95.1 25.9 0 49.2-10.2 61.5-22.6V657H683z"}}]},name:"file-jpg",theme:"outlined"},Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M944 299H692c-4.4 0-8 3.6-8 8v406c0 4.4 3.6 8 8 8h59.2c4.4 0 8-3.6 8-8V549.9h168.2c4.4 0 8-3.6 8-8V495c0-4.4-3.6-8-8-8H759.2V364.2H944c4.4 0 8-3.6 8-8V307c0-4.4-3.6-8-8-8zm-356 1h-56c-4.4 0-8 3.6-8 8v406c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V308c0-4.4-3.6-8-8-8zM452 500.9H290.5c-4.4 0-8 3.6-8 8v43.7c0 4.4 3.6 8 8 8h94.9l-.3 8.9c-1.2 58.8-45.6 98.5-110.9 98.5-76.2 0-123.9-59.7-123.9-156.7 0-95.8 46.8-155.2 121.5-155.2 54.8 0 93.1 26.9 108.5 75.4h76.2c-13.6-87.2-86-143.4-184.7-143.4C150 288 72 375.2 72 511.9 72 650.2 149.1 736 273 736c114.1 0 187-70.7 187-181.6v-45.5c0-4.4-3.6-8-8-8z"}}]},name:"gif",theme:"outlined"},Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"};function ae(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?Object(arguments[r]):{},c=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(n).filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable}))),c.forEach(function(g){je(s,g,n[g])})}return s}function je(s,r,n){return r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}var Q=function(r,n){var c=ae({},r,n.attrs);return d(L,ae({},c,{icon:_e}),null)};Q.displayName="CheckCircleOutlined";Q.inheritAttrs=!1;function re(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?Object(arguments[r]):{},c=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(n).filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable}))),c.forEach(function(g){Ee(s,g,n[g])})}return s}function Ee(s,r,n){return r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}var V=function(r,n){var c=re({},r,n.attrs);return d(L,re({},c,{icon:we}),null)};V.displayName="DownloadOutlined";V.inheritAttrs=!1;function oe(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?Object(arguments[r]):{},c=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(n).filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable}))),c.forEach(function(g){Be(s,g,n[g])})}return s}function Be(s,r,n){return r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}var U=function(r,n){var c=oe({},r,n.attrs);return d(L,oe({},c,{icon:Pe}),null)};U.displayName="FileImageOutlined";U.inheritAttrs=!1;function se(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?Object(arguments[r]):{},c=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(n).filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable}))),c.forEach(function(g){Ie(s,g,n[g])})}return s}function Ie(s,r,n){return r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}var X=function(r,n){var c=se({},r,n.attrs);return d(L,se({},c,{icon:ze}),null)};X.displayName="FileJpgOutlined";X.inheritAttrs=!1;function le(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?Object(arguments[r]):{},c=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(n).filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable}))),c.forEach(function(g){Ue(s,g,n[g])})}return s}function Ue(s,r,n){return r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}var Y=function(r,n){var c=le({},r,n.attrs);return d(L,le({},c,{icon:Se}),null)};Y.displayName="GifOutlined";Y.inheritAttrs=!1;function ie(s){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?Object(arguments[r]):{},c=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(n).filter(function(g){return Object.getOwnPropertyDescriptor(n,g).enumerable}))),c.forEach(function(g){Le(s,g,n[g])})}return s}function Le(s,r,n){return r in s?Object.defineProperty(s,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[r]=n,s}var Z=function(r,n){var c=ie({},r,n.attrs);return d(L,ie({},c,{icon:Me}),null)};Z.displayName="ThunderboltOutlined";Z.inheritAttrs=!1;const Te={class:"converter-container"},$e={class:"header-section"},Re={class:"ant-upload-drag-icon"},Ge={class:"card-header"},Ae={class:"file-name"},ke={class:"file-info"},He={class:"file-size"},De={key:0,class:"status-indicator"},Ve={class:"image-comparison"},Ne={class:"original-section"},We={class:"file-name-label"},Je={class:"image-file-name"},qe={class:"image-container"},Qe=["src","alt"],Xe={class:"image-info"},Ye={class:"file-size"},Ze={key:0,class:"converted-section"},Ke={class:"file-name-label"},et={class:"image-file-name"},tt=["onClick"],nt=["src"],at={class:"download-overlay"},rt={class:"converted-info"},ot={class:"converted-size"},st={key:1,class:"waiting-section"},lt={key:2,class:"batch-download"},it={class:"progress-content"},ct={class:"progress-text"},ut={__name:"imageConverter",setup(s){const r=j([]),n=j([]),c=j("jpeg"),g=j(80),T=j(!1),$=j(!1),A=j(0),k=j("active"),H=j(""),N=ne(()=>g.value/100),D=ne(()=>n.value.filter(l=>l.converted)),ce=l=>l.type.startsWith("image/")?(l.size/1024/1024<50||G.error("图片大小不能超过50MB！"),!1):(G.error("只能上传图片文件！"),!1),ue=l=>{const{fileList:e}=l;e.forEach(t=>{t.originFileObj&&!n.value.find(a=>a.uid===t.uid)&&de(t.originFileObj,t.uid)})},de=(l,e)=>{const t=new FileReader;t.onload=a=>{n.value.push({uid:e,file:l,name:l.name,size:l.size,preview:a.target.result,converted:!1,convertedBlob:null,convertedPreview:null,convertedSize:0,convertedFormat:null,convertedQuality:null})},t.readAsDataURL(l)},he=async()=>{if(n.value.length===0){G.warning("请先选择图片");return}T.value=!0,$.value=!0,A.value=0,k.value="active";try{const l=n.value.length;for(let e=0;e<l;e++){const t=n.value[e];if(!(!t.converted||t.convertedFormat!==c.value||t.convertedQuality!==N.value&&(c.value==="jpeg"||c.value==="webp")))continue;H.value=`正在转换第 ${e+1} 张图片：${t.name}`,A.value=Math.round(e/l*100);const u=await me(t.file,c.value,N.value);t.convertedPreview&&URL.revokeObjectURL(t.convertedPreview);const i=URL.createObjectURL(u);t.converted=!0,t.convertedBlob=u,t.convertedPreview=i,t.convertedSize=u.size,t.convertedFormat=c.value,t.convertedQuality=N.value,await Fe()}A.value=100,k.value="success",H.value="转换完成！",setTimeout(()=>{$.value=!1,G.success(`成功转换 ${D.value.length} 张图片！`)},1e3)}catch(l){k.value="exception",H.value="转换失败："+l.message,G.error("转换失败："+l.message),setTimeout(()=>{$.value=!1},2e3)}finally{T.value=!1}},me=(l,e,t)=>new Promise((a,u)=>{if(e==="gif"){if(l.type==="image/gif"){a(l);return}ge(l).then(a).catch(u);return}const i=document.createElement("canvas"),o=i.getContext("2d"),m=new Image;m.onload=()=>{i.width=m.width,i.height=m.height,e==="jpeg"&&(o.fillStyle="#FFFFFF",o.fillRect(0,0,i.width,i.height)),o.drawImage(m,0,0),i.toBlob(f=>{f?a(f):u(new Error("转换失败"))},`image/${e}`,t)},m.onerror=()=>{u(new Error("图片加载失败"))},m.src=URL.createObjectURL(l)});class fe{constructor(e,t){this.width=e,this.height=t,this.frames=[],this.delays=[],this.globalColorTable=this.createGlobalColorTable()}createGlobalColorTable(){return[[0,0,0],[255,255,255],[255,0,0],[0,255,0],[0,0,255],[255,255,0],[255,0,255],[0,255,255]]}findClosestColor(e,t,a){let u=1/0,i=0;for(let o=0;o<this.globalColorTable.length;o++){const[m,f,h]=this.globalColorTable[o],p=Math.abs(e-m)+Math.abs(t-f)+Math.abs(a-h);p<u&&(u=p,i=o)}return i}addFrame(e,t=500){const u=e.getContext("2d").getImageData(0,0,this.width,this.height);this.frames.push(u),this.delays.push(t)}encode(){const e=[];e.push(...this.stringToBytes("GIF89a")),e.push(...this.writeUint16(this.width)),e.push(...this.writeUint16(this.height)),e.push(146),e.push(0),e.push(0);for(let t=0;t<8;t++){const a=this.globalColorTable[t];e.push(a[0],a[1],a[2])}e.push(33,255,11),e.push(...this.stringToBytes("NETSCAPE2.0")),e.push(3,1,0,0,0);for(let t=0;t<this.frames.length;t++)this.addGifFrame(e,this.frames[t],this.delays[t]);return e.push(59),new Uint8Array(e)}addGifFrame(e,t,a){e.push(33,249,4),e.push(0),e.push(...this.writeUint16(Math.floor(a/10))),e.push(0),e.push(0),e.push(44),e.push(...this.writeUint16(0)),e.push(...this.writeUint16(0)),e.push(...this.writeUint16(this.width)),e.push(...this.writeUint16(this.height)),e.push(0);const u=this.convertToIndexed(t),i=3;e.push(i);const o=this.lzwCompress(u,i);for(let m=0;m<o.length;m+=255){const f=Math.min(255,o.length-m);e.push(f);for(let h=0;h<f;h++)e.push(o[m+h])}e.push(0)}lzwCompress(e,t){const a=1<<t,u=a+1;let i=u+1,o=t+1;const m=new Map;for(let y=0;y<a;y++)m.set(String(y),y);const f=[];let h=0,p=0;const w=this.outputCode(f,a,o,h,p);h=w.bitBuffer,p=w.bitCount;let x=String(e[0]);for(let y=1;y<e.length;y++){const M=String(e[y]),R=x+","+M;if(m.has(R))x=R;else{const q=m.get(x),b=this.outputCode(f,q,o,h,p);h=b.bitBuffer,p=b.bitCount,i<4096&&(m.set(R,i++),i>=1<<o&&o<12&&o++),x=M}}if(x){const y=m.get(x),M=this.outputCode(f,y,o,h,p);h=M.bitBuffer,p=M.bitCount}const z=this.outputCode(f,u,o,h,p);return h=z.bitBuffer,p=z.bitCount,p>0&&f.push(h&255),f}outputCode(e,t,a,u,i){for(u|=t<<i,i+=a;i>=8;)e.push(u&255),u>>=8,i-=8;return{bitBuffer:u,bitCount:i}}convertToIndexed(e){const t=e.data,a=[];for(let u=0;u<t.length;u+=4){const i=t[u],o=t[u+1],m=t[u+2];if(t[u+3]<128)a.push(0);else{const h=this.findClosestColor(i,o,m);a.push(h)}}return a}stringToBytes(e){return Array.from(e).map(t=>t.charCodeAt(0))}writeUint16(e){return[e&255,e>>8&255]}}class pe{constructor(e){this.file=e,this.frames=[]}async extractFrames(){return new Promise((e,t)=>{const a=document.createElement("video");a.muted=!0,a.playsInline=!0,a.preload="metadata";const u=document.createElement("canvas"),i=u.getContext("2d");a.onloadedmetadata=()=>{const o=a.videoWidth||a.clientWidth||300,m=a.videoHeight||a.clientHeight||300,f=800;let h=o,p=m;if(o>f||m>f){const w=Math.min(f/o,f/m);h=Math.floor(o*w),p=Math.floor(m*w)}u.width=h,u.height=p,console.log("Canvas dimensions:",h,"x",p),a.duration===1/0||isNaN(a.duration)?this.createStaticAnimation(u,i,a,e,t):this.extractVideoFrames(u,i,a,e,t)},a.onerror=()=>{this.handleAsStaticImage(e,t)},a.src=URL.createObjectURL(this.file)})}createStaticAnimation(e,t,a,u,i){try{const o=[];a.currentTime=0,a.onseeked=()=>{t.clearRect(0,0,e.width,e.height),t.drawImage(a,0,0,e.width,e.height);for(let f=0;f<8;f++){const h=document.createElement("canvas"),p=h.getContext("2d");h.width=e.width,h.height=e.height,p.fillStyle="#FFFFFF",p.fillRect(0,0,e.width,e.height);const w=f<8/2?(f+1)/(8/2):(8-f)/(8/2);p.globalAlpha=w,p.drawImage(a,0,0,e.width,e.height),p.globalAlpha=1,o.push({canvas:h,delay:300})}console.log("Created",o.length,"static animation frames"),u(o)}}catch(o){i(o)}}extractVideoFrames(e,t,a,u,i){try{const o=[],m=a.duration,h=Math.min(Math.floor(m*10),50);let p=0;const w=()=>{if(p>=h){console.log("Extracted",o.length,"video frames"),u(o);return}const x=p/h*m;a.currentTime=x,a.onseeked=()=>{const z=document.createElement("canvas"),y=z.getContext("2d");z.width=e.width,z.height=e.height,y.fillStyle="#FFFFFF",y.fillRect(0,0,e.width,e.height),y.drawImage(a,0,0,e.width,e.height),o.push({canvas:z,delay:100}),p++,setTimeout(w,50)}};w()}catch(o){i(o)}}handleAsStaticImage(e,t){const a=new Image;a.onload=()=>{let i=a.width,o=a.height;if(i>800||o>800){const p=Math.min(800/i,800/o);i=Math.floor(i*p),o=Math.floor(o*p)}const m=document.createElement("canvas");m.getContext("2d"),m.width=i,m.height=o,console.log("Static image dimensions:",i,"x",o);const f=[],h=8;for(let p=0;p<h;p++){const w=document.createElement("canvas"),x=w.getContext("2d");w.width=i,w.height=o,x.fillStyle="#FFFFFF",x.fillRect(0,0,i,o);const z=p<h/2?(p+1)/(h/2):(h-p)/(h/2);x.globalAlpha=z,x.drawImage(a,0,0,i,o),x.globalAlpha=1,f.push({canvas:w,delay:300})}console.log("Created",f.length,"static image frames"),e(f)},a.onerror=()=>{t(new Error("无法加载图片"))},a.src=URL.createObjectURL(this.file)}}const ge=async(l,e)=>{try{if(l.size>20*1024*1024)throw new Error("图片文件过大（超过20MB），建议先压缩图片后再转换");if(l.type==="image/gif")return l;const a=await new pe(l).extractFrames();if(a.length===0)throw new Error("无法提取图片帧");const u=a[0],i=new fe(u.canvas.width,u.canvas.height);a.forEach(f=>{i.addFrame(f.canvas,f.delay)});const o=i.encode();return new Blob([o],{type:"image/gif"})}catch(t){throw new Error("GIF转换失败: "+t.message)}},K=l=>{if(!l.convertedBlob)return;const e=document.createElement("a");e.href=URL.createObjectURL(l.convertedBlob);const t=l.name.split(".").slice(0,-1).join(".");e.download=`${t}.${c.value}`,e.click(),URL.revokeObjectURL(e.href)},ve=()=>{D.value.forEach((l,e)=>{setTimeout(()=>{K(l)},e*100)})},W=l=>{if(l===0)return"0 B";const e=1024,t=["B","KB","MB","GB"],a=Math.floor(Math.log(l)/Math.log(e));return parseFloat((l/Math.pow(e,a)).toFixed(2))+" "+t[a]},ee=l=>l.split(".").pop().toUpperCase(),J=(l,e=20)=>{if(l.length<=e)return l;const t=l.split(".").pop();return l.substring(0,l.lastIndexOf(".")).substring(0,e-t.length-4)+"..."+"."+t},te=l=>`${l.substring(0,l.lastIndexOf("."))}.${c.value}`;return(l,e)=>{const t=O("a-typography-title"),a=O("a-typography-paragraph"),u=O("a-upload-dragger"),i=O("a-card"),o=O("a-select-option"),m=O("a-select"),f=O("a-form-item"),h=O("a-col"),p=O("a-slider"),w=O("a-button"),x=O("a-row"),z=O("a-alert"),y=O("a-tooltip"),M=O("a-tag"),R=O("a-progress"),q=O("a-modal");return F(),B("div",Te,[v("div",$e,[d(t,{level:1,class:"main-title"},{default:_(()=>[d(S(U),{class:"title-icon"}),e[4]||(e[4]=C(" 图片格式转换器 "))]),_:1}),d(a,{class:"subtitle"},{default:_(()=>e[5]||(e[5]=[C(" 支持多种图片格式互转，快速、安全、免费的在线图片转换工具 ")])),_:1})]),d(i,{class:"upload-card",bordered:!1},{default:_(()=>[d(u,{"file-list":r.value,"onUpdate:fileList":e[0]||(e[0]=b=>r.value=b),name:"files",multiple:!0,"before-upload":ce,"show-upload-list":!1,accept:"image/*",onChange:ue,class:"upload-dragger"},{default:_(()=>[v("p",Re,[d(S(Ce),{class:"upload-icon"})]),e[6]||(e[6]=v("p",{class:"ant-upload-text"},"点击或拖拽图片到此区域上传",-1)),e[7]||(e[7]=v("p",{class:"ant-upload-hint"},"支持 JPG、PNG、WEBP、GIF、BMP 等格式，支持批量上传",-1))]),_:1},8,["file-list"])]),_:1}),n.value.length>0?(F(),I(i,{key:0,class:"settings-card",title:"转换设置",bordered:!1},{default:_(()=>[d(x,{gutter:[24,16],align:"middle"},{default:_(()=>[d(h,{xs:24,sm:12,md:8},{default:_(()=>[d(f,{label:"目标格式",class:"format-item"},{default:_(()=>[d(m,{value:c.value,"onUpdate:value":e[1]||(e[1]=b=>c.value=b),size:"large",class:"format-select"},{default:_(()=>[d(o,{value:"jpeg"},{default:_(()=>[d(S(X)),e[8]||(e[8]=C(" JPEG "))]),_:1}),d(o,{value:"png"},{default:_(()=>[d(S(U)),e[9]||(e[9]=C(" PNG "))]),_:1}),d(o,{value:"webp"},{default:_(()=>[d(S(U)),e[10]||(e[10]=C(" WEBP "))]),_:1}),d(o,{value:"gif"},{default:_(()=>[d(S(Y)),e[11]||(e[11]=C(" GIF "))]),_:1}),d(o,{value:"bmp"},{default:_(()=>[d(S(U)),e[12]||(e[12]=C(" BMP "))]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),c.value==="jpeg"||c.value==="webp"?(F(),I(h,{key:0,xs:24,sm:12,md:8},{default:_(()=>[d(f,{label:"图片质量",class:"quality-item"},{default:_(()=>[d(p,{value:g.value,"onUpdate:value":e[2]||(e[2]=b=>g.value=b),min:10,max:100,step:10,"tooltip-formatter":b=>`${b}%`},null,8,["value","tooltip-formatter"])]),_:1})]),_:1})):E("",!0),d(h,{xs:24,sm:24,md:8},{default:_(()=>[d(w,{type:"primary",size:"large",loading:T.value,onClick:he,disabled:n.value.length===0,class:"convert-button"},{default:_(()=>[T.value?E("",!0):(F(),I(S(Z),{key:0})),C(" "+P(T.value?"转换中...":"开始转换"),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1}),c.value==="gif"?(F(),I(z,{key:0,message:"GIF转换说明",description:"将为静态图片生成带有淡入淡出效果的动画GIF，原GIF文件将保持动画效果",type:"info","show-icon":"",class:"gif-alert"})):E("",!0)]),_:1})):E("",!0),n.value.length>0?(F(),I(i,{key:1,class:"preview-card",title:"图片预览",bordered:!1},{default:_(()=>[d(x,{gutter:[16,16]},{default:_(()=>[(F(!0),B(xe,null,Oe(n.value,(b,be)=>(F(),I(h,{xs:24,sm:12,lg:8,key:be},{default:_(()=>[d(i,{size:"small",class:"image-card",hoverable:!0},{default:_(()=>[v("div",Ge,[d(y,{title:b.name},{default:_(()=>[v("span",Ae,P(J(b.name)),1)]),_:2},1032,["title"]),v("div",ke,[d(M,{color:"blue"},{default:_(()=>[C(P(ee(b.name)),1)]),_:2},1024),v("span",He,P(W(b.size)),1)]),b.converted?(F(),B("div",De,[d(S(Q),{class:"success-icon"})])):E("",!0)]),v("div",Ve,[v("div",Ne,[e[13]||(e[13]=v("div",{class:"section-label"},"原图",-1)),v("div",We,[d(y,{title:b.name},{default:_(()=>[v("span",Je,P(J(b.name)),1)]),_:2},1032,["title"])]),v("div",qe,[v("img",{src:b.preview,alt:b.name,class:"preview-image"},null,8,Qe)]),v("div",Xe,[d(M,{color:"blue"},{default:_(()=>[C(P(ee(b.name)),1)]),_:2},1024),v("span",Ye,P(W(b.size)),1)])]),b.converted?(F(),B("div",Ze,[e[14]||(e[14]=v("div",{class:"section-label"},"转换后",-1)),v("div",Ke,[d(y,{title:te(b.name)},{default:_(()=>[v("span",et,P(J(te(b.name))),1)]),_:2},1032,["title"])]),v("div",{class:"image-container converted-image-container",onClick:dt=>K(b)},[v("img",{src:b.convertedPreview,alt:"转换后",class:"converted-image"},null,8,nt),v("div",at,[d(S(V),{class:"download-icon"})])],8,tt),v("div",rt,[d(M,{color:"green"},{default:_(()=>[C(P(c.value.toUpperCase()),1)]),_:1}),v("span",ot,P(W(b.convertedSize)),1)])])):(F(),B("div",st,e[15]||(e[15]=[v("div",{class:"section-label"},"等待转换",-1),v("div",{class:"file-name-label"},[v("span",{class:"image-file-name placeholder-name"},"等待转换...")],-1),v("div",{class:"waiting-placeholder"},[v("div",{class:"waiting-icon"},"⏳"),v("span",null,"点击转换按钮开始")],-1)])))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):E("",!0),D.value.length>0?(F(),B("div",lt,[d(w,{type:"primary",size:"large",onClick:ve,class:"download-all-btn"},{default:_(()=>[d(S(V)),C(" 批量下载 ("+P(D.value.length)+") ",1)]),_:1})])):E("",!0),d(q,{open:$.value,"onUpdate:open":e[3]||(e[3]=b=>$.value=b),title:"转换进度",footer:null,closable:!1,"mask-closable":!1,centered:""},{default:_(()=>[v("div",it,[d(R,{percent:A.value,status:k.value,"stroke-color":"#1890ff"},null,8,["percent","status"]),v("p",ct,P(H.value),1)])]),_:1},8,["open"])])}}},ft=ye(ut,[["__scopeId","data-v-b8962550"]]);export{ft as default};
