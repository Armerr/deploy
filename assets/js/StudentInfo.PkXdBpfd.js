import{r as e,ac as t,b as s,c as a,d as i,e as d,u as n,C as r,j as l,E as o,w as u,ad as c,F as m,ae as p,B as f,af as v,N as g,U as y,ag as I,ah as _,a2 as k,a3 as b}from"./vendor.xaFdOCnE.js";import{_ as S}from"./index.Dnl5OJ5X.js";const h={class:"student-info"},w={class:"student-name"},x={class:"crown-container"},C={class:"student-actions"},j=S({__name:"StudentInfo",props:{item:{type:Object,required:!0},hoverStudentId:{type:String,default:null}},emits:["student-add","student-subtract","set-leader","start-editing-score","end-editing-score"],setup(S,{emit:j}){const z=e(0),B=e(null),E=e(null),R=j,U=S;t(B,(()=>{U.item.editingScore&&$(U.item.groupId,U.item.id)}));const $=(e,t)=>{R("end-editing-score",{groupId:e,studentId:t,newScore:z.value})};return(e,t)=>{const j=f,q=v,F=g;return s(),a(m,null,[i("div",h,[d(n(y),{class:"student-icon"}),i("span",w,r(S.item.name),1),i("div",x,[S.item.leader?(s(),l(n(I),{key:0,class:"leader-icon",style:{color:"#f8ab02"}})):o("",!0),S.item.leader||S.hoverStudentId!==S.item.id?o("",!0):(s(),l(j,{key:1,type:"text",size:"small",class:"virtual-crown-btn",onClick:t[0]||(t[0]=c((e=>{return t=S.item.groupId,s=S.item.id,void R("set-leader",{groupId:t,studentId:s});var t,s}),["stop"]))},{default:u((()=>[d(n(_),{style:{color:"rgba(0, 0, 0, 0.25)"}})])),_:1}))])]),i("div",C,[i("div",{ref_key:"containerRef",ref:B},[S.item.editingScore?(s(),l(q,{key:1,ref_key:"inputRef",ref:E,value:z.value,"onUpdate:value":t[2]||(t[2]=e=>z.value=e),style:{width:"50px"},precision:0,onPressEnter:t[3]||(t[3]=e=>$(S.item.groupId,S.item.id)),onBlur:t[4]||(t[4]=e=>$(S.item.groupId,S.item.id))},null,8,["value"])):(s(),a("span",{key:0,class:"student-score",onClick:t[1]||(t[1]=e=>(async(e,t)=>{e&&t&&(z.value=U.item.score,R("start-editing-score",{groupId:e,studentId:t}),await p(),E.value&&E.value.focus())})(S.item.groupId,S.item.id))},r(S.item.score),1))],512),d(F,{style:{"margin-left":"5px"}},{default:u((()=>[d(j,{type:"primary",shape:"circle",size:"small",class:"action-btn",onClick:t[5]||(t[5]=t=>e.$emit("student-add",S.item.id))},{default:u((()=>[d(n(k))])),_:1}),d(j,{danger:"",shape:"circle",size:"small",class:"action-btn",onClick:t[6]||(t[6]=t=>e.$emit("student-subtract",S.item.id))},{default:u((()=>[d(n(b))])),_:1})])),_:1})])],64)}}},[["__scopeId","data-v-8ccda3f6"]]);export{j as default};
