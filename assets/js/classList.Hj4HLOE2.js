import{l as e}from"./class.Jt5_Tb-s.js";import{s as t,U as a}from"./index.Dnl5OJ5X.js";import{r as n,a as i,o as l,b as d,j as s,w as o,d as r,e as c,u,q as p,E as m,X as g,I as h,B as y,N as x,Y as k,Z as w}from"./vendor.xaFdOCnE.js";import"./http.PeGqulen.js";import"./confirm.DugmkCAa.js";const _={style:{"margin-top":"5px"}},f={style:{"margin-top":"10px"}},v={__name:"classList",setup(v){var I;const C=n([]),j=i({name:"",userId:null!=(I=t.get(a))?I:""}),z=g("openTab"),S=(t=P.current)=>{e({page:t,limit:P.pageSize,...j}).then((e=>{C.value=e.rows,P.total=e.total,P.current=t}))},b=e=>{P.current=e.current,P.pageSize=e.pageSize,S()},N=(e,t)=>{t.width=e},P=i({current:1,pageSize:20,total:0,hideOnSinglePage:!1,showSizeChanger:!0,showTotal:(e,t)=>"总共"+e+"条"});l((()=>{S(1)}));const D=[{title:"班级编号",dataIndex:"id",key:"id",width:50,align:"center"},{title:"班级名称",dataIndex:"name",key:"name",width:100},{title:"教师",dataIndex:"teacherName",key:"teacherName",width:100,align:"center"},{title:"班级人数",dataIndex:"studentNum",key:"studentNum",width:100,align:"center"},{title:"班级总分",dataIndex:"score",key:"score",width:50,align:"center"},{title:"更新时间",dataIndex:"updateDate",key:"updateDate",width:100,align:"center"},{title:"更新人",dataIndex:"updatePerson",key:"updatePerson",width:100,align:"center"},{title:"操作",dataIndex:"opt",key:"opt",width:"100px",align:"center"}];return(e,t)=>{const a=h,n=y,i=x,l=k;return d(),s(i,{direction:"vertical",style:{width:"100%",padding:"10px 10px"}},{default:o((()=>[r("div",null,[r("div",_,[c(i,null,{default:o((()=>[c(a,{value:j.name,"onUpdate:value":t[0]||(t[0]=e=>j.name=e),placeholder:"班级名称",style:{width:"200px"},"allow-clear":!0},null,8,["value"]),c(n,{type:"primary",ghost:"",onClick:t[1]||(t[1]=e=>S(1))},{icon:o((()=>[c(u(w))])),default:o((()=>[t[2]||(t[2]=p(" 查询 "))])),_:1,__:[2]})])),_:1})]),r("div",f,[c(l,{scroll:{x:1300},"table-layout":"fixed",bordered:!0,"data-source":C.value,columns:D,pagination:P,onResizeColumn:N,onChange:b},{bodyCell:o((({column:e,record:a})=>["opt"===e.key?(d(),s(i,{key:0},{default:o((()=>[c(n,{type:"link",onClick:e=>function(e){const t={};t.classId=e,z("班级助手","/class/classHelper",t)}(a.id)},{default:o((()=>t[3]||(t[3]=[p(" 班级助手 ")]))),_:2,__:[3]},1032,["onClick"]),c(n,{type:"link",onClick:e=>{return t=a.id,void z("班级编辑","/class/classEdit?id=".concat(t));var t}},{default:o((()=>t[4]||(t[4]=[p(" 编辑 ")]))),_:2,__:[4]},1032,["onClick"])])),_:2},1024)):m("",!0)])),_:1},8,["data-source","pagination"])])])])),_:1})}}};export{v as default};
