import{r as e,c as a}from"./confirm.DugmkCAa.js";import{_ as t,s as l,a as s,M as n}from"./index.Dnl5OJ5X.js";import{r as u,t as o,v as c,a as r,o as i,j as p,w as d,m as h,x as v,y,b as f,e as m,d as _,q as k,C as g,c as b,D as q,F as x,E as C,u as K,K as j,k as w,G as I,M as T,H as U,J as E,B as L,N as M,O as R,P as $,T as z,Q as D,R as P,V}from"./vendor.xaFdOCnE.js";const B=""+new URL("../img/logo.KXo4z-ix.png",import.meta.url).href,F={class:"sider-menu-container"},G={class:"roll-call-content"},H={class:"header-name"},J={key:1,class:"router-view-pane"},N=t({__name:"main",setup(t){const N=u(["sub1"]),O=u(["1"]),Q=u(""),S=u([]),W=o((()=>l.get(s)||""));function X(){a.pop("确定要退出吗？","温馨提示").then((()=>{l.clearStaff(),e.replace("/")}))}function A(e,a,t,l,s,n){return{key:a,icon:t,path:l,children:s,label:e,type:n}}c("openTab",ae),c("closeTab",te);const Y=r([A("教学助手","sub1",null,null,[A("班级管理","g1",null,"/class/classList")])]);function Z(e){const{label:a,path:t}=e.item.originItemValue;!function(e,a){const t=document.createElement("a");t.href=a;let l={};if(t.search&&t.search.startsWith("?")){const e=t.search.split("?")[1];l=I.parse(e)}ae(e,t.pathname,l)}(a,t)}function ee(a){Q.value=a;const t=S.value.find((e=>e.path===a));t&&(Q.value=t.path,e.push({path:t.path,query:t.query}))}function ae(a,t,l,s=!1){const u={path:t,query:l||{},key:t,title:a,closable:!0};if(S.value.length>=n)return void h.error("选项卡不能超过".concat(n,"个"));const o=S.value.findIndex((e=>e.key===t));if(o>=0){const t=S.value[o];return delete v(t.query).$timestamp,delete u.query.$timestamp,u.query.$timestamp=(new Date).getTime(),S.value[o].title=a,S.value[o].query=u.query,Q.value=u.path,void e.push({path:u.path,query:u.query,replace:s})}S.value.push(u),Q.value=u.path,e.push({path:u.path,query:u.query,replace:s})}function te(a){let t=S.value.findIndex((e=>e.key===a));if(t>0&&(t-=1),S.value=S.value.filter((e=>e.key!==a)),S.value.length>0&&a===Q.value){const a=S.value[t];Q.value=a.path,e.push({path:a.path,query:a.query,replace:!0})}}function le(e,a){"remove"===a&&te(e)}return i((()=>{ae("班级管理","/class/classList")})),(a,t)=>{const l=T,s=U,n=E,u=L,o=M,c=R,r=$,i=V,h=z,v=D,I=y;return f(),p(I,null,{default:d((()=>[m(n,{class:"layout-sider"},{default:d((()=>[m(s,{class:"sider-content",vertical:""},{default:d((()=>[t[3]||(t[3]=_("div",{class:"logo"},[_("a",{href:"/"},[_("img",{src:B,style:{height:"32px","border-radius":"50%"},alt:""}),_("h3",{style:{color:"#333","margin-left":"5px"}},"包老师助学系统")])],-1)),_("div",F,[m(l,{id:"sideMenu","open-keys":N.value,"onUpdate:openKeys":t[0]||(t[0]=e=>N.value=e),"selected-keys":O.value,"onUpdate:selectedKeys":t[1]||(t[1]=e=>O.value=e),mode:"inline",items:Y,onClick:Z},null,8,["open-keys","selected-keys","items"])])])),_:1,__:[3]})])),_:1}),m(I,null,{default:d((()=>[m(r,{class:"layout-header"},{default:d((()=>[_("div",G,[m(c,null,{content:d((()=>[m(o,{direction:"vertical"},{default:d((()=>[m(u,{size:"small",type:"text",onClick:X},{default:d((()=>t[4]||(t[4]=[k(" 退出登录 ")]))),_:1,__:[4]})])),_:1})])),default:d((()=>[_("div",null,[t[5]||(t[5]=_("img",{class:"header-logo",src:B,alt:""},null,-1)),_("span",H,g(W.value),1)])])),_:1})])])),_:1}),m(v,{class:"layout-content"},{default:d((()=>[S.value.length?(f(),p(h,{key:0,"active-key":Q.value,"onUpdate:activeKey":t[2]||(t[2]=e=>Q.value=e),type:"editable-card","hide-add":"",onEdit:le,onChange:ee},{default:d((()=>[(f(!0),b(x,null,q(S.value,(e=>(f(),p(i,{key:e.key,tab:e.title,closable:e.closable,path:e.path},null,8,["tab","closable","path"])))),128))])),_:1},8,["active-key"])):C("",!0),S.value.length?(f(),b("div",J,[m(K(P),null,{default:d((({Component:a})=>[(f(),p(j,null,[(f(),p(w(a),{key:K(e).currentRoute.value.fullPath}))],1024))])),_:1})])):C("",!0)])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-c01bc10d"]]);export{N as default};
